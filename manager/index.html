<html>
<head>
	<title> Awesomium ui</title>
	<link rel="stylesheet" href="main.css" />
	<script>
	var x
	function xhr(url, cb) {
		x = new XMLHttpRequest();
		pending = true;
		x.open("GET", "api2/" + url, true);
		x.onload = cb;
		x.send();
		return;
	}

	function onClickCB()
	{}
	function onClick(val)
	{
		//_tera_client_proxy_.alert(val)
		//var cmd = document.getElementById(id).value
		xhr(val,onClickCB)
	}

	function refreshCB()
	{
		document.getElementById("content").innerHTML = this.responseText.substring(1, this.responseText.length - 1)
		//document.getElementById("debug").innerHTML = this.responseText.substring(1, this.responseText.length - 1)
	}

	window.addEventListener('error', function(e) {
		_tera_client_proxy_.alert('Error: ' + e.message)
	})

	function loadData()
	{
		xhr("R",refreshCB)
	}

	window.onload = function() {
		_tera_client_proxy_.resize_to(400, 600)
		_tera_client_proxy_.set_title('module manager')
		loadData()
	}

	</script>
</head>
<body>
	<div  id="content" width=100% height=100%>
	<!--<textarea id="debug" maxLength="2000" rows="14" cols="50"></textarea>-->
</body>
</html>
